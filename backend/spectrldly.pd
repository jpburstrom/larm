#N canvas 0 15 815 716 10;
#N canvas 0 15 610 716 fft-analysis 0;
#X obj 20 126 *~;
#X obj 19 61 inlet~;
#X obj 20 180 rfft~;
#X obj 41 102 tabreceive~ \$0-hann;
#X obj 22 598 *~;
#X obj 67 579 tabreceive~ \$0-hann;
#X obj 2 533 rifft~;
#X obj 22 630 outlet~;
#X obj 158 366 *~;
#X obj 122 367 *~;
#X obj 16 7 block~ 512 4;
#X obj 22 441 *~ 512;
#X text 118 183 comment;
#X text 274 211 write amp and phase into delay-buffer;
#X text 334 278 read out the delay and feedbackarrays for;
#X text 334 304 every audio block (= fft frame) and use the;
#X text 335 326 integer value of each delay bin as multiplier;
#X text 340 347 of the blocksize to calculate the pointer;
#X text 338 368 back into the vd~s before resynthesis.;
#X obj 23 459 /~ 48;
#X obj 22 554 /~ 512;
#X obj 44 362 wrap~;
#X obj 22 385 -~;
#X obj 95 490 vd~ \$0-phase;
#X obj 22 489 vd~ \$0-amp;
#X obj 20 235 delwrite~ \$0-amp 6000;
#X obj 56 215 delwrite~ \$0-phase 6000;
#X obj 140 319 >~ 0;
#X obj 163 338 *~;
#X obj 23 407 min~ 140;
#X obj 23 425 max~ 0;
#X obj 195 255 _j/undenormal~;
#X obj 21 342 +~;
#X obj 463 498 bang~;
#X obj 462 532 outlet;
#X obj 185 305 tabreceive~ \$0-fb;
#X obj 21 292 tabreceive~ \$0-tet;
#X obj 8 512 *~;
#X obj 219 491 tabreceive~ \$0-bpf;
#X obj 179 536 *~;
#X obj 20 315 *~ 140;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 25 0;
#X connect 2 1 26 0;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 20 0;
#X connect 8 0 26 0;
#X connect 9 0 25 0;
#X connect 11 0 19 0;
#X connect 19 0 23 0;
#X connect 19 0 24 0;
#X connect 20 0 4 0;
#X connect 21 0 22 1;
#X connect 22 0 27 0;
#X connect 22 0 29 0;
#X connect 23 0 8 0;
#X connect 23 0 39 0;
#X connect 24 0 9 0;
#X connect 24 0 37 0;
#X connect 27 0 28 0;
#X connect 28 0 8 1;
#X connect 28 0 9 1;
#X connect 29 0 30 0;
#X connect 30 0 11 0;
#X connect 31 0 26 0;
#X connect 31 0 25 0;
#X connect 32 0 21 0;
#X connect 32 0 22 0;
#X connect 33 0 34 0;
#X connect 35 0 28 1;
#X connect 36 0 40 0;
#X connect 37 0 6 0;
#X connect 38 0 37 1;
#X connect 38 0 39 1;
#X connect 39 0 6 1;
#X connect 40 0 32 0;
#X restore 75 295 pd fft-analysis;
#N canvas 0 15 815 716 Hann-window 0;
#N canvas 0 0 450 300 graph1 0;
#X array \$0-hann 512 float 0;
#X coords 0 1 511 0 200 120 1;
#X restore 293 249 graph;
#X msg 171 263 0;
#X obj 65 312 osc~;
#X obj 65 264 samplerate~;
#X obj 65 335 *~ -0.5;
#X obj 65 358 +~ 0.5;
#X obj 57 383 tabwrite~ \$0-hann;
#X text 279 241 1;
#X text 272 359 0;
#X text 288 372 0;
#X obj 65 288 / 512;
#X text 336 221 Hann window;
#X text 113 310 period 512;
#X text 90 215 recalculate Hann;
#X text 125 230 window table;
#X text 40 27 The Hann window is now recomputed on 'loadbang' to make
the file smaller (it doesn't have to be saved with the array.);
#X text 474 375 511;
#X obj 191 409 switch~;
#X msg 190 385 1;
#X obj 53 239 t b b b b;
#X obj 191 348 t b b;
#X obj 228 375 delay 500;
#X obj 244 398 0;
#X obj 53 179 inlet;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 10 0 2 0;
#X connect 18 0 17 0;
#X connect 19 0 6 0;
#X connect 19 1 3 0;
#X connect 19 2 1 0;
#X connect 19 3 20 0;
#X connect 20 0 18 0;
#X connect 20 1 21 0;
#X connect 21 0 22 0;
#X connect 22 0 17 0;
#X connect 23 0 19 0;
#X restore 555 249 pd Hann-window;
#X obj 75 260 inlet~;
#X obj 65 481 outlet~;
#N canvas 0 15 610 716 random 0;
#X obj 263 561 random 10000;
#X obj 264 584 / 10000;
#X obj 262 486 inlet;
#X obj 265 682 outlet;
#X obj 265 631 *;
#X obj 362 524 inlet;
#X obj 189 511 change;
#X obj 262 535 b;
#X obj 264 609 - 0.5;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 2 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X connect 8 0 4 0;
#X restore 190 489 pd random;
#X obj 164 442 cos;
#X obj 164 421 * 3.14159;
#X obj 237 618 * 0.5;
#X obj 236 638 +;
#X obj 77 569 cos;
#X obj 77 544 * 3.14159;
#X obj 77 650 * 0.5;
#X obj 77 675 +;
#N canvas 0 15 610 716 fft-analysis 0;
#X obj 20 126 *~;
#X obj 19 61 inlet~;
#X obj 20 180 rfft~;
#X obj 41 102 tabreceive~ \$0-hann;
#X obj 23 599 *~;
#X obj 67 579 tabreceive~ \$0-hann;
#X obj 2 533 rifft~;
#X obj 22 630 outlet~;
#X obj 158 366 *~;
#X obj 122 367 *~;
#X obj 16 7 block~ 512 4;
#X obj 22 441 *~ 512;
#X text 118 183 comment;
#X text 274 211 write amp and phase into delay-buffer;
#X text 334 278 read out the delay and feedbackarrays for;
#X text 334 304 every audio block (= fft frame) and use the;
#X text 335 326 integer value of each delay bin as multiplier;
#X text 340 347 of the blocksize to calculate the pointer;
#X text 338 368 back into the vd~s before resynthesis.;
#X obj 23 459 /~ 48;
#X obj 22 554 /~ 512;
#X obj 44 362 wrap~;
#X obj 22 385 -~;
#X obj 140 319 >~ 0;
#X obj 163 338 *~;
#X obj 21 419 max~ 0;
#X obj 195 255 _j/undenormal~;
#X obj 21 342 +~;
#X obj 22 489 vd~ \$0-amp2;
#X obj 95 490 vd~ \$0-phase2;
#X obj 21 292 tabreceive~ \$0-tet2;
#X obj 185 305 tabreceive~ \$0-fb2;
#X obj 6 512 *~;
#X obj 228 508 tabreceive~ \$0-bpf;
#X obj 157 537 *~;
#X obj 71 408 min~ 140;
#X obj 56 215 delwrite~ \$0-phase2 6000;
#X obj 20 235 delwrite~ \$0-amp2 6000;
#X obj 21 316 *~ 140;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 37 0;
#X connect 2 1 36 0;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 20 0;
#X connect 8 0 36 0;
#X connect 9 0 37 0;
#X connect 11 0 19 0;
#X connect 19 0 28 0;
#X connect 19 0 29 0;
#X connect 20 0 4 0;
#X connect 21 0 22 1;
#X connect 22 0 23 0;
#X connect 22 0 35 0;
#X connect 23 0 24 0;
#X connect 24 0 8 1;
#X connect 24 0 9 1;
#X connect 25 0 11 0;
#X connect 26 0 36 0;
#X connect 26 0 37 0;
#X connect 27 0 21 0;
#X connect 27 0 22 0;
#X connect 28 0 9 0;
#X connect 28 0 32 0;
#X connect 29 0 8 0;
#X connect 29 0 34 0;
#X connect 30 0 38 0;
#X connect 31 0 24 1;
#X connect 32 0 6 0;
#X connect 33 0 32 1;
#X connect 33 0 34 1;
#X connect 34 0 6 1;
#X connect 35 0 25 0;
#X connect 38 0 27 0;
#X restore -35 295 pd fft-analysis;
#X obj 77 519 +;
#X obj 349 698 *;
#X obj 346 648 * -1;
#X obj 206 740 *;
#X obj 206 698 * -1;
#X obj 163 465 t f f;
#X obj 164 543 +;
#X obj 206 719 + 1;
#X obj 348 670 + 1;
#X obj 162 321 every 22;
#X obj 78 611 +;
#X obj 555 169 table \$0-tet2 256;
#X obj 555 189 table \$0-tet 256;
#X obj 555 209 table \$0-fb 256;
#X obj 555 229 table \$0-fb2 256;
#X obj 232 668 tabwrite \$0-tet;
#X obj 77 700 tabwrite \$0-tet2;
#X obj 206 761 tabwrite \$0-fb2;
#X obj 347 729 tabwrite \$0-fb;
#X obj 262 324 s \$0-len;
#X obj 165 586 r \$0-len;
#N canvas 0 15 610 716 pre 0;
#X obj 191 42 inlet;
#X obj 196 380 outlet;
#X obj 324 388 outlet;
#X obj 196 145 until;
#X msg 196 124 256;
#X obj 203 218 *;
#X obj 197 169 f;
#X obj 197 101 t b f b;
#X obj 236 146 0;
#X obj 230 170 + 1;
#X obj 199 197 t f f;
#X obj 202 266 int;
#X obj 202 241 *;
#X obj 273 164 / 255;
#X obj 196 82 f;
#X obj 319 228 inlet;
#X obj 215 317 /;
#X obj 215 339 +;
#X connect 0 0 14 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 12 0;
#X connect 6 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 4 0;
#X connect 7 1 13 0;
#X connect 7 2 8 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 5 0;
#X connect 10 1 2 0;
#X connect 11 0 16 0;
#X connect 12 0 11 0;
#X connect 13 0 5 1;
#X connect 14 0 7 0;
#X connect 15 0 12 1;
#X connect 15 0 16 1;
#X connect 16 0 17 0;
#X connect 17 0 1 0;
#X restore 164 372 pd pre;
#X text 23 111 Johannes Burstrom redid it Jan 2008 after Johannes Kreidler
and Orm Finnendahl 2006;
#X text 195 2 2ch SPECTRAL DELAY;
#X obj -34 259 inlet~;
#X obj -35 478 outlet~;
#N canvas 0 15 610 716 pan_spread 0;
#X obj 80 125 inlet~;
#X obj 211 127 inlet~;
#X obj 71 298 outlet~;
#X obj 209 299 outlet~;
#X obj 82 206 pan~ 0 100;
#X obj 341 126 inlet;
#X obj 212 206 pan~ 0 100;
#X obj 355 274 * -1;
#X obj 353 249 / 0.0222222;
#X connect 0 0 4 0;
#X connect 1 0 6 0;
#X connect 4 0 2 0;
#X connect 4 1 3 0;
#X connect 5 0 8 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 7 0 4 1;
#X connect 8 0 7 0;
#X connect 8 0 6 1;
#X restore -35 357 pd pan_spread;
#N canvas 0 15 610 716 notch 0;
#N canvas 0 15 815 716 pre 0;
#X obj 197 72 inlet;
#X obj 196 380 outlet;
#X obj 324 388 outlet;
#X obj 196 145 until;
#X msg 196 124 256;
#X obj 203 218 *;
#X obj 197 169 f;
#X obj 197 101 t b f b;
#X obj 236 146 0;
#X obj 230 170 + 1;
#X obj 199 197 t f f;
#X obj 273 164 / 256;
#X connect 0 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 1 0;
#X connect 6 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 4 0;
#X connect 7 1 11 0;
#X connect 7 2 8 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 5 0;
#X connect 10 1 2 0;
#X connect 11 0 5 1;
#X restore 97 -3 pd pre;
#X msg 97 -27 1;
#X obj 94 163 cos;
#X obj 98 206 * 0.5;
#X obj 303 -150 inlet fq;
#X obj 169 -136 inlet q;
#X obj 96 301 tabwrite \$0-bpf;
#N canvas 0 0 450 300 graph10 0;
#X array \$0-bpf 256 float 3;
#A 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 0.75766 0.537277 0.35466 0.209808 0.102753
0.0335083 0.00205994 0.00845337 0.0526733 0.134705 0.254532 0.41214
0.607544 0.840637 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1;
#X coords 0 1 255 -1 200 140 1;
#X restore 201 384 graph;
#X obj 93 143 * 3.14159;
#X obj 172 178 t f f;
#X obj 97 229 + 0;
#X obj 180 155 t b f;
#X obj 94 274 clip 0 1;
#X obj 191 53 +;
#X obj 288 -12 t b f;
#X floatatom 203 17 5 0 0 0 - - -;
#X obj 212 -11 t b f;
#X obj 182 130 *;
#X obj 183 106 t f f;
#X obj 182 -73 + 1;
#X obj 303 -119 myabs/01toquartic;
#X obj 303 -84 * -0.5;
#X floatatom 399 -133 5 0 0 0 - - -;
#X floatatom 354 -23 5 0 0 0 - - -;
#X floatatom 381 -53 5 0 0 0 - - -;
#X obj 300 -63 + 1.05;
#X obj 169 -114 * 16;
#X connect 0 0 13 0;
#X connect 0 1 6 1;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 20 0;
#X connect 5 0 26 0;
#X connect 8 0 2 0;
#X connect 9 0 3 1;
#X connect 9 1 10 1;
#X connect 10 0 12 0;
#X connect 11 0 1 0;
#X connect 11 1 9 0;
#X connect 12 0 6 0;
#X connect 13 0 8 0;
#X connect 14 0 1 0;
#X connect 14 1 13 1;
#X connect 16 0 1 0;
#X connect 16 1 15 0;
#X connect 16 1 18 0;
#X connect 17 0 11 0;
#X connect 18 0 17 0;
#X connect 18 1 17 1;
#X connect 19 0 16 0;
#X connect 20 0 21 0;
#X connect 21 0 24 0;
#X connect 21 0 25 0;
#X connect 22 0 20 0;
#X connect 25 0 14 0;
#X connect 25 0 23 0;
#X connect 26 0 19 0;
#X restore 468 350 pd notch;
#X obj 262 300 / 2;
#X obj 200 251 OSCroute /vol /pan_spread /delay_time /time_mod /mod_quant
/mod_rand /mod_regen_time /feedback /notch_freq /notch_q /phase_offset
;
#X obj 284 216 inlet OSC;
#X obj 200 188 r OSC;
#X obj 200 215 OSCroute \$1;
#X obj 181 349 * 80;
#X obj 369 331 + 1;
#X obj 235 399 * 10;
#X obj 386 300 * 300;
#X obj 564 493 switch~;
#X obj 564 467 switchdelay 2000;
#X obj 619 291 sel 1;
#X obj 619 312 once;
#X obj 545 360 OSCroute /onoff;
#X obj -35 430 volswitch-s~ 10 3;
#X obj 545 380 t a a a;
#X obj 70 216 simple-osc-seq-4 \$1;
#X obj 57 371 * 1;
#X connect 0 0 40 1;
#X connect 0 1 23 0;
#X connect 2 0 0 0;
#X connect 4 0 20 1;
#X connect 4 0 24 1;
#X connect 5 0 19 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 16 0;
#X connect 8 0 29 0;
#X connect 9 0 24 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 18 0;
#X connect 12 0 30 0;
#X connect 13 0 40 0;
#X connect 14 0 10 0;
#X connect 15 0 32 0;
#X connect 16 0 22 0;
#X connect 17 0 31 0;
#X connect 18 0 21 0;
#X connect 19 0 20 0;
#X connect 19 1 4 0;
#X connect 20 0 7 0;
#X connect 21 0 17 0;
#X connect 22 0 15 0;
#X connect 23 0 35 0;
#X connect 24 0 11 0;
#X connect 34 0 11 1;
#X connect 34 0 12 1;
#X connect 34 0 8 1;
#X connect 34 0 7 1;
#X connect 35 0 6 0;
#X connect 35 0 14 0;
#X connect 35 1 29 1;
#X connect 35 1 30 1;
#X connect 35 1 31 1;
#X connect 35 1 32 1;
#X connect 38 0 13 0;
#X connect 40 0 56 0;
#X connect 40 1 56 1;
#X connect 42 0 33 0;
#X connect 43 0 59 0;
#X connect 43 1 40 2;
#X connect 43 2 42 0;
#X connect 43 3 47 0;
#X connect 43 4 49 0;
#X connect 43 5 4 1;
#X connect 43 6 50 0;
#X connect 43 7 17 1;
#X connect 43 7 15 1;
#X connect 43 8 41 1;
#X connect 43 9 41 0;
#X connect 43 10 14 1;
#X connect 43 11 55 0;
#X connect 44 0 43 0;
#X connect 45 0 46 0;
#X connect 46 0 43 0;
#X connect 46 0 58 0;
#X connect 47 0 35 0;
#X connect 48 0 23 1;
#X connect 49 0 35 1;
#X connect 50 0 48 0;
#X connect 52 0 51 0;
#X connect 53 0 54 0;
#X connect 54 0 1 0;
#X connect 55 0 57 0;
#X connect 56 0 39 0;
#X connect 56 1 3 0;
#X connect 57 0 53 0;
#X connect 57 1 52 0;
#X connect 57 2 56 3;
#X connect 58 0 43 0;
#X connect 59 0 56 2;
